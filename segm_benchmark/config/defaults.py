
import os
from yacs.config import CfgNode as CN

_C = CN()

_C.OUTPUT_DIR = "work_dirs/test"
_C.DTYPE = "float32"

_C.MODEL = CN()
_C.MODEL.NET = "encnet"
_C.MODEL.BACKBONE = "resnet50"
_C.MODEL.JPU = False
_C.MODEL.LATERAL = False
_C.MODEL.DEVICE = "cuda"
_C.MODEL.WEIGHT = ""

_C.SOLVER = CN()
_C.SOLVER.BASE_LR = 0.01
_C.SOLVER.WEIGHT_DECAY = 1e-5
_C.SOLVER.BIAS_LR_FACTOR = 0.1
_C.SOLVER.WEIGHT_DECAY_BIAS = 1e-5
_C.SOLVER.MOMENTUM = 0.9
_C.SOLVER.STEPS = [40000, 60000]
_C.SOLVER.GAMMA = 0.1
_C.SOLVER.WARMUP_FACTOR = 1.0 / 3
_C.SOLVER.WARMUP_ITERS = 1000
_C.SOLVER.WARMUP_METHOD = "linear"
_C.SOLVER.IMS_PER_GPU = 8
_C.SOLVER.MAX_ITER = 70000
_C.SOLVER.CHECKPOINT_PERIOD = 5000

_C.DATA = CN()
_C.DATA.ROOT = 'datasets/coco'
_C.DATA.DATASET = 'coco'
_C.DATA.BASE_SIZE = 520
_C.DATA.CROP_SIZE = 480
_C.DATA.ROT_RANGE = 0  # cityscape -> 10
_C.DATA.HORIZON_FLIP_PROB_TRAIN = 0.5
_C.DATA.VERTICAL_FLIP_PROB_TRAIN = 0.0
_C.DATA.BRIGHTNESS = 0.0
_C.DATA.CONTRAST = 0.0
_C.DATA.SATURATION = 0.0
_C.DATA.HUE = 0.0
_C.DATA.TO_BGR255 = False
_C.DATA.PIXEL_MEAN = [.485, .456, .406]
_C.DATA.PIXEL_STD = [.229, .224, .225]
_C.DATA.ASPECT_RATIO_GROUPING = False
_C.DATA.NUM_WORKERS = 8


_C.TEST = CN()
_C.TEST.IMS_PER_GPU = 4
